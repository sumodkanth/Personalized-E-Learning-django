<!-- study_materials/templates/study_materials/puzzle.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Python Puzzle Game</title>

    <style>
body {
    font-family: Arial, sans-serif;
    background-color: #f0f0f0;
    text-align: center;
}
#game {
    margin: 20px auto;
    width: 80%;
    text-align: left;
}
.code-snippet {
    background-color: #eaeaea;
    padding: 10px;
    margin: 10px 0;
    border: 1px solid #ccc;
}
input {
    margin-left: 5px;
    margin-right: 5px;
}
#result {
    margin-top: 20px;
    font-weight: bold;
}
    </style>
</head>
<body>
    <h1>Fill in the Blanks</h1>
    <div id="game">
        <!-- Code snippets will be generated by JavaScript -->
    </div>
    <button id="check-answers">Check Answers</button>
    <div id="result"></div>

    <script>
document.addEventListener('DOMContentLoaded', () => {
    const game = document.getElementById('game');
    const result = document.getElementById('result');
    const checkAnswersButton = document.getElementById('check-answers');

    const snippets = [
        {
            code: "def greet(name):\n    print('Hello, ' + ___)",
            blanks: ["name"]
        },
        {
            code: "for i in range(___):\n    print(i)",
            blanks: ["10"]
        },
        {
            code: "if ___ > 10:\n    print('Greater')",
            blanks: ["x"]
        }
    ];

    snippets.forEach((snippet, index) => {
        const snippetDiv = document.createElement('div');
        snippetDiv.classList.add('code-snippet');
        const codeLines = snippet.code.split('\n');
        codeLines.forEach(line => {
            const lineDiv = document.createElement('div');
            let parts = line.split('___');
            lineDiv.innerHTML = parts[0];
            if (parts[1] !== undefined) {
                const input = document.createElement('input');
                input.setAttribute('data-answer', snippet.blanks.shift());
                lineDiv.appendChild(input);
                lineDiv.innerHTML += parts[1];
            }
            snippetDiv.appendChild(lineDiv);
        });
        game.appendChild(snippetDiv);
    });

    checkAnswersButton.addEventListener('click', () => {
        let correct = 0;
        let total = 0;
        document.querySelectorAll('input').forEach(input => {
            total++;
            if (input.value === input.getAttribute('data-answer')) {
                correct++;
            }
        });
        result.textContent = `You got ${correct} out of ${total} correct.`;
    });
});
    </script>
</body>

</html>
